<div class="container" style="margin-top: 80px; margin-bottom: 100px;">
  <div class="alert alert-dark" role="alert">
    <h3 class="alert-heading">Application details for <strong>{{ student.studentforename }} {{ student.studentsurname }}</strong> applying for Job: <strong>{{ job.jobtitle }}</strong></h3>
  </div>
  <div *ngIf="application">
    <div class="row">
      <div class="col-md-6">
        <div class="card">
          <div class="card-body">
            <!-- Application Details -->
            <h5 class="card-title">Application</h5>
            <ul class="list-group list-group-flush">
              <li class="list-group-item">Application ID: {{ application.applicationid }}</li>
              <li class="list-group-item">Application Date: {{ application.applicationdate }}</li>
              <li class="list-group-item">Status: {{ application.status }}</li>
              <li class="list-group-item">Skills: {{ application.skills }}</li>
              <li class="list-group-item">Experience: {{ application.experience }}</li>
              <li class="list-group-item">Education: {{ application.education }}</li>
              <li class="list-group-item">Awards: {{ application.awards }}</li>
              <li class="list-group-item">Recruiter Comments: {{ application.recruitercomments }}</li>
            </ul>

            <!-- Job Details -->
            <h5 class="card-title">Job</h5>
            <ul class="list-group list-group-flush">
              <li class="list-group-item">Job Title: {{ job.jobtitle }}</li>
              <li class="list-group-item">Job Type: {{ job.jobtype }}</li>
              <li class="list-group-item">Description: {{ job.description }}</li>
              <li class="list-group-item">Salary: Â£{{ job.salary | number: '1.0-0' }}</li>
              <!-- Add other job details here -->
            </ul>

            <!-- Student Details -->
            <h5 class="card-title">Student</h5>
            <ul class="list-group list-group-flush">
              <li class="list-group-item">Student Name: {{ student.studentforename }} {{ student.studentsurname }}</li>
              <li class="list-group-item">Date of Birth: {{ student.dob }}</li>
              <li class="list-group-item">Email: {{ student.email }}</li>
              <li class="list-group-item">Course Title: {{ course.coursetitle }}</li>
              <li class="list-group-item">Course Level: {{ course.courselevel }}</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card">
          <div class="card-body">
            <!-- Update Application Form -->
            <h5 class="card-title">Update Application</h5>
            <form (ngSubmit)="reviewApplication()">
              <div class="form-group">
                <label for="status">Status</label>
                <select [(ngModel)]="updatedStatus" name="status" id="status" class="form-control" required>
                  <option *ngFor="let status of availableStatuses" [value]="status">{{ status }}</option>
                </select>
              </div>
              <div class="form-group">
                <label for="comments">Leave Feedback</label>
                <textarea [(ngModel)]="updatedRecruiterComments" name="comments" id="comments" class="form-control" rows="3"></textarea>
              </div>
              <br>
              <button type="submit" class="btn btn-secondary ms-2">Update Application</button>
            </form>
          </div>
        </div>
        <div class="card" style="margin-top: 20px;">
          <div class="card-body">
            <!-- Send Interview Email Form -->
            <h5 class="card-title">Schedule Interview</h5>
            <form (ngSubmit)="sendInterviewEmail()">
              <div class="form-group">
                <label for="interviewDate">Interview Date</label>
                <input [(ngModel)]="interviewDate" type="date" name="interviewDate" id="interviewDate" class="form-control" required>
              </div>
              <div class="form-group">
                <label for="interviewTime">Interview Time</label>
                <input [(ngModel)]="interviewTime" type="time" name="interviewTime" id="interviewTime" class="form-control" required>
              </div>
              <div class="form-group">
                <label for="teamsMeetingLink">Microsoft Teams Meeting Link</label>
                <input [(ngModel)]="teamsMeetingLink" type="text" name="teamsMeetingLink" id="teamsMeetingLink" class="form-control" required>
              </div>
              <br>
              <button type="submit" class="btn btn-secondary ms-2">Send Interview Email</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
